## 安防类设备协议

>安防类设备，主要包括声光报警器、红外感应器、门窗磁感应器、紧急按钮、电子栅栏、漏水感应器、烟雾感应器、可燃气感应器、可燃气阀门、自动门、道闸、红外感应器--移动侦测/光强、烟雾感应器--SR、普通门锁、纽扣门锁、指纹门锁、密码门锁、可视门锁（带场景按键）、玻璃破碎感应器、门铃按钮、门铃声光器、IPAD防盗器、多功能人体运动感应器、猫眼等。

在安防类设备的发送数据协议中，存在控制和设置两种不同模式，控制模式一般用于常规功能控制，设置模式一般只用于设防、撤防，其数据要根据具体模式调用不同API去解析。

### 声光报警器 Type--01
声光报警器，设备类型DeviceType=01。

1）返回数据协议

   返回数据由一位数据表示报警状态，0：消警；1：报警；2：火警。

2）发送数据协议

控制模式：共三种命令，0：消警；1zzzz：报警（变声）；2zzzz：火警（不变声），其中zzzz为报警时间，范围0-6000秒，若大于6000秒表示永久报警。

设置模式：无。

### 红外感应器 Type--02
红外感应器，设备类型DeviceType=02。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 门窗磁感应器 Type--03
门窗磁感应器，设备类型DeviceType=03。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 紧急按钮 Type--04
紧急按钮，设备类型DeviceType=04。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 电子栅栏 Type--05
电子栅栏，设备类型DeviceType=05。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：共一种命令，0：消除警报。

设置模式：共两种命令，0：撤防；1：布防。

### 漏水感应器 Type--06
漏水感应器，设备类型DeviceType=06。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：共一种命令，0：消除警报。

设置模式：共两种命令，0：撤防；1：布防。

### 烟雾感应器 Type--07
漏水感应器，设备类型DeviceType=07。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 氨气感应器 （停产） Type--08
氨气感应器，设备类型DeviceType=08。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 可燃气感应器 Type--09
可燃气感应器，设备类型DeviceType=09。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 可燃气阀门 Type--10
可燃气阀门，设备类型DeviceType=10。

1）返回数据协议

返回数据由两位数组成。

第一位表示报警状态，0：正常；1：报警；

第二位表示阀状态，0：关；1：开。

2）发送数据协议

控制模式：共四种命令，0：关阀；1：开阀；2：读取状态；3：切换状态。

设置模式：无。

### 自动门 Type--26
自动门，设备类型DeviceType=26。

1）返回数据协议

返回数据由一位数据表示自动门功能或状态，1：RESET；2：常开；3：常关；4：开。

2）发送数据协议

控制模式：共五种命令，1：RESET；2：常开；3：常关；4：开；5：查询状态。

设置模式：无。

### 道闸 Type--27
道闸，设备类型DeviceType=27。

1）返回数据协议

返回数据由一位数据表示道闸功能或状态，1：RESET；2：上；3：下；4：停。

2）发送数据协议

控制模式：共五种命令，1：RESET；2：上；3：下；4：停；5：查询状态。

设置模式：无。

### 红外感应器--移动侦测/光强 Type--40
红外感应器--移动侦测/光强，复合设备，

主设备类型DevicType=40

{

端口1 epType=02，

端口2 epType=19

}。

1）返回数据协议

返回数据根据ep和epType确定表示的是人体红外数据还是光感数据。

人体数据由一位数表示报警状态，0：正常；1：报警；

光感数据则转换为int类型直接表示，单位为LUX。

注：数据分多次返回，单次返回一条。

2）发送数据协议

控制模式：共两种命令，1：读取状态数值；12：发送命令时设备ep=0。

设置模式：共两种命令，0：撤防；1：布防。

3）设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### 烟雾感应器--SR Type--43
烟雾感应器--SR型，设备类型DeviceType=43。

1）返回数据协议

返回数据由四位十六进制数表示报警类型或状态。

第1~2位表示报警类型，01：烟雾；

第3~4位表示报警状态，00：正常；01：报警。

2）发送数据协议

控制模式：共一种命令，10：消除报警。

设置模式：共两种命令，0：撤防；1：布防。

### 普通门锁 Type--67
普通门锁，设备类型DeviceType=67。

1）返回数据协议

返回数据由五位数表示门锁状态。

第1位表示控制状态，1：解锁；2：上锁；3：解锁3s；

第2~3位表示保险状态，10：上保险；11：解除保险；

第4~5位表示锁状态，21：锁已开；22：锁已关；23：入侵报警。

2）发送数据协议

控制模式：共三种命令，1：解锁；2：上锁；3：解锁3s。

设置模式：无。

### 纽扣门锁 Type--68
纽扣门锁，设备类型DeviceType=68。

1）返回数据协议

返回数据由五位数表示门锁状态。

第1位表示控制状态，1：解锁；2：上锁；

第2~3位表示保险状态，

10：上保险；

11：解除保险；

25：强制上锁（密码或纽扣）；

26：自动上锁；

30：密码解锁；

31~39：纽扣1~9开锁；

第4~5位表示锁状态，23：入侵报警；24：报警解除；29：破坏报警。

2）发送数据协议

控制模式：共两种命令，1：解锁；2：上锁。

设置模式：无。

### 指纹门锁 Type--69
指纹门锁，设备类型DeviceType=69。

1）返回数据协议

返回数据由1~3位不定长数表示门锁状态。

1：解锁（不解析）；2：上锁（不解析）；

10：上保险；11：解除保险；

20：反锁；21：锁已开（暂无）；22：锁已关（暂无）；

23：入侵报警；24：报警解除；25：强制上锁；

26：自动上锁（暂无）；27：登记密码（暂无）；

28：欠压报警；29：破坏报警；

31：密码连续出错；30：密码开锁；

33～52：纽扣1～20开锁；

65～84：指纹1～20开锁；

97～136：射频卡1～40开锁；

138：钥匙开锁。

151~250：射频卡41-140开锁

251~350：指纹21-120开锁

351~400：密码1至50开锁

2）发送数据协议

控制模式：共两种命令，1：解锁；2：上锁。

设置模式：无。

### 密码门锁 Type--70
密码门锁，设备类型DeviceType=70。

1）返回数据协议

>返回数据由1~3位不定长数表示门锁状态。

1：解锁（同11）；2：上锁（同10）；

10：上保险（同2）；11：解除保险（同1）；

19：解除反锁；20：反锁；

21：开门锁已开（暂无）；22：关门锁已关（暂无）；

23：入侵报警；24：报警解除；25：强制上锁；

26：自动上锁（暂无）；27：登记密码（暂无）；

28：欠压报警；29：破坏报警；

31：密码连续出错；30：密码开锁；

33～52：纽扣1～20开锁；

65～84：指纹1～20开锁；

97～136：射频卡1～40开锁；

138：钥匙开锁；

144：密码验证成功；145：密码验证失败

151~250：射频卡41-140开锁

251~350：指纹21-120开锁

351~400：密码1至50开锁


2）发送数据协议

控制模式：

> 11:解锁,12:上锁,

> 9nYYYY:密码验证

（YYYY为不固定长度的密码字符串，4-9位,n为密码字符串长度123456789jklmno）

如9j1234567890


设置模式：无。

### 一代云摄像机 （停产） （透传） Type--75
一代云摄像机（停产）（透传），设备类型DeviceType=75。

1）返回数据协议

（十六进制）

位1～2:设置内容（00:恢复出厂设置,01:设置SSID和PASSWD,02:设置OSD参数,03:设置录像参数,04:设置视频参数,05:设置预览参数,06:设置密码,07:复位）

位3～4:配置结果（00:成功,01:失败）

位1～2:设置内容（08:获取SSID状态）

位3～4:配置结果（00:成功,01:未连接,02:连接上但信号弱,03:未找到WIFI模块,04:搜索WIFI AP失败,05:WIFI密码错误）

位1～2:设置内容（09:上报UID）

位3～42:UID（十六进制ASCII,两位表示一个字符）

位1～2:设置内容（0A:上报SN编号）

位3～n:SN编号（十六进制ASCII,两位表示一个字符）

位1～2:设置内容（0B:上报登录密码）

位3～n:登录密码（十六进制ASCII,两位表示一个字符）

位1～2:设置内容（0C:上报匹配码）

位3～n:匹配码（十六进制ASCII,两位表示一个字符）

2）发送数据协议

0xx..; （以','分隔,以';'结束）

0表示恢复出厂设置;xx..表示SN码

1xx..,yy..; （以','分隔,以';'结束）

1表示设置SSID和PASSWD;xx..表示SSID;yy..表示PASSWD

2x,y,zz..; （以','分隔,以';'结束）

2表示设置OSD参数;x表示显示与否（0:不显示时间和字符,1:只显示字符,2:只显示时间,3:显示时间和字符显示）;y表示显示位置（0:左上角,1:右上角,2:左下角,

3:右下角）;zz..表示显示文字（最长16个字节）

3y; （以','分隔,以';'结束）

3表示设置录像参数;y表示录像设置（0:关闭录像,1:开启录像,2:不变）

4x,y,zzzz,pppp; （以','分隔,以';'结束）

4表示设置视频参数;x表示码流设置（0:主码流-局域网码流,1:第一子码流-互联网码流,2:第二子码流-手机码流,3:不变,注:720P机型主码流和手机码流的分辨率不能修改）;y表示分辨率（4:VGA,5:QVGA,6:720P,7:不变）;zzzz表示码流（单位:kbps,0016～4096,如0512表示512kbps）;pppp表示帧率（单位:帧,0001～

0030,如0015表示15帧）

5x; （以','分隔,以';'结束）

5表示设置预览参数;x表示预览设置（0:关闭实时流,1:开启实时流,2:不变）

6xx..,yy..; （以','分隔,以';'结束）

6表示设置密码;xx..为新密码,yy..为旧密码

7xx..; （以','分隔,以';'结束）

7表示复位摄像机;xx..为SN码

8xx..,yy..; （以','分隔,以';'结束）

8表示获取SSID状态;xx..表示SSID;yy..表示PASSWD

9x; （以','分隔,以';'结束）

9表示获取UID;x为参数（0:获取UID,SN,登录密码,匹配码）

 如/C/UUdXXXX9x;

### 可视门锁 （带场景按键） Type--89
可视门锁（带场景按键），设备类型DeviceType=89。

1）返回数据协议

021C 欠压报警

021D 防撬报警

0A01:普通用户密码验证失败

0A10:普通用户开锁密码验证错误

0105XXX...:管理员认证成功，XXX..为token信息。

021F:表示连续密码出错，系统锁定报警

021E:表示解除系统锁定

020A：表示锁具反锁

020B：表示解除锁具反锁

0809aabbccCNAME:挟持报警 'aa'表示防劫持方式,'bb'表示客户属性,'cc'表示客户编号,CNAME表示客户名称（长度不定）

080Baa:锁具方舌状态上报 '01'表示方舌缩进；（开门了） '00'表示方舌伸出；（正常）

080Caabbccd:查询设备状态返回 第一个‘080C’表示锁具信息上报 aa表示锁具方舌状态，bb表示系统锁定状态，cc表示反锁状态，dd表示电量 注意:方舌缩进为“01”，系统锁定为“01”，反锁为“01”，电量低为“01”，反之填“00”

0808aabbccCNAME:第一个‘0808’表示开锁信息上报,'aa'表示客户属性,'bb'表示客户编号,'cc'表示开门方式（密码/指纹/射频卡/APP等信息）[00/01/02/03]，CNAME表示客户名称（长度不定）

080E0333aabbCCCCCCCCCCCC：'08'为固定字节；‘0E’表示无线新添加客户；‘03’表示添加的客户属性（为动态密码）固定字节； '33'表示添加的客户编号（16进制需要转下，固定字节）；‘aa’为密码序列号（此处固定字节01）；‘bb’为密码长度（此处固定字节06）； 'CCCCCCCCCCCC'为密码信息

022C

0202:检测到人员逗留

0203aa:敲门上报，aa为敲门力度（00表示敲门,01表示砸门）

0811xxxxxxxxxxxxxxxxxxxx：'08'为固定字节；‘11’表示上报猫眼UID；xxxxxxxxxxxxxxxxxxxx为20位猫眼UID

0106:开启摄像头成功

0A15:开启摄像头失败

0107:关闭摄像头成功

0A16:关闭摄像头失败

0204aa:本地临时用户开关上传：‘aa’表示开关状态（01表示本地开启临时用户，00表示本地关闭临时用户）

2）发送数据协议

设置模式：0:撤防,1:布防

控制模式：

34 :查询设备当前状态

11cdddddd : 验证门锁面 第一个'11'表示密码验证开锁,'c'表示密码长度,'dddddd'表示密码信息.

15abbcdeeeeee :第一个'15'表示管理员密码验证

'a'表示客户属性（0管理用户）

'bb'表示客户编号（01-02 默认填写01即可）

'c'表示密码序列号 默认填写01

'd'表示密码长度 默认填写06

'eeeeee'表示密码信息 密码必须只能为6位

16 动态密码获取

25：开启摄像头

26：关闭摄像头

绑定的场景ID，用cmd=51和cmd=52来获取和设置

### 玻璃破碎感应器 Type--A4
玻璃破碎感应器，设备类型DeviceType=A4。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：共一种命令，0：消除报警。

设置模式：共两种命令，0：撤防；1：布防。

### 门铃按钮 Type--A5
门铃按钮，设备类型DeviceType=A5。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：无。

设置模式：共两种命令，0：撤防；1：布防。

### 门铃声光器 Type--A6
门铃声光器，设备类型DeviceType=A6。

1）返回数据协议

返回数据由8位十六进制数组成，数据格式为09ppqqvv。

09固定数值，表示当前状态；

pp表示按钮联动（00：禁止，01：允许）；

qq表示设置铃声（0x01-0x26，表示序号01-38）；

vv表示设置音量（0x01-0x03，表示音量01-03）。

2）发送数据协议

控制模式：共四种命令，

11：播放乐曲；

21：设置铃声（循环）；

31：设置音量（循环）；

4Y：设置门铃按钮的控制权限（0：禁止,1：允许）。

设置模式：无。

### IPAD防盗器 Type--B0
IPAD防盗器，设备类型DeviceType=B0。

1）返回数据协议

返回数据由一位数据表示报警状态，0：正常；1：报警。

2）发送数据协议

控制模式：共一种命令，1：命令清除。

设置模式：共两种命令，0：撤防；1：布防；2：查询。

### 网络锁 （带场景按键） Type--Bd
网络锁（带场景按键），设备类型DeviceType=Bd。

1）返回数据协议

021C:欠压报警

021D:防撬报警

0A01:普通用户密码验证失败

0A10:普通用户开锁密码验证错误

0105XXX...:管理员认证成功，XXX..为token信息。

021F:表示连续密码出错，系统锁定报警

021E:表示解除系统锁定

020A：表示锁具反锁

020B：表示解除锁具反锁

0809aabbccCNAME:挟持报警 'aa'表示防劫持方式,'bb'表示客户属性,'cc'表示客户编号,CNAME表示客户名称（长度不定）

080Baa:锁具方舌状态上报 '01'表示方舌缩进；（开门了） '00'表示方舌伸出；（正常）

080Caabbccddeeff:查询设备状态返回 第一个‘080C’表示锁具信息上报 aa表示锁具方舌状态，bb表示系统锁定状态，cc表示反锁状态，dd表示电量,ee表示是否接受临时密码,ff表示是否安装了导向板 注意:方舌缩进为“01”，系统锁定为“01”，反锁为“01”，ee接受临时密码为“01”，ff安装了导向板为“01”,反之为“00”,电量低为“01”，反之填“00”,dd电量为“03”代表电量为高,dd电量为“02”代表电量为中,dd电量为“01”代表电量为低,dd电量为“00”代表电量为空，需要更换电池

0808aabbccCNAME:第一个‘0808’表示开锁信息上报,'aa'表示客户属性,'bb'表示客户编号,'cc'表示开门方式（密码/指纹/射频卡/APP等信息）[00/01/02/03]，CNAME表示客户名称（长度不定）

080E0333aabbCCCCCCCCCCCC：'08'为固定字节；‘0E’表示无线新添加客户；‘03’表示添加的客户属性（为动态密码）固定字节； '33'表示添加的客户编号（16进制需要转下，固定字节）；‘aa’为密码序列号（此处固定字节01）；‘bb’为密码长度（此处固定字节06）； 'CCCCCCCCCCCC'为密码信息

0204aa:本地临时用户开关上传：‘aa’表示开关状态（01表示本地开启临时用户，00表示本地关闭临时用户）

2）发送数据协议

设置模式：0:撤防,1:布防

控制模式：

34 :查询设备当前状态

11cdddddd : 验证门锁面 第一个'11'表示密码验证开锁,'c'表示密码长度,'dddddd'表示密码信息.

15abbcdeeeeee :第一个'15'表示管理员密码验证

'a'表示客户属性（0管理用户）

'bb'表示客户编号（01-02 默认填写01即可）

'c'表示密码序列号 默认填写01

'd'表示密码长度 默认填写06

'eeeeee'表示密码信息 密码必须只能为6位

绑定的场景ID，用cmd=51和cmd=52来获取和设置

'29a':a表示门扣板是否安装,0表示门扣板未安装,1表示已安装门扣板

### 多功能人体运动感应器 Type--C0
多功能人体运动感应器，复合设备，

主设备类型DevicType=C0

{

端口1 epType=C0，

端口2 epType=D1（硬件可选，温度），

端口3 epType=D2（硬件可选，湿度），

端口4 epType=D3（硬件可选，光强）

}。

1）返回数据协议

返回数据由不定长十六进制数组成，第1~2位表示数据长度（06或0A），第3~4位表示端口（C0、D1、D2或D3），根据不同数据长度和端口，分为以下4种协议格式：

06C0010P：端口C0的数据，06表示数据长度，C0表示设备类型，01表示报警数据类型，0P表示报警数据-00表示正常，为01表示报警。

0AD1040PQQQQ：端口D1的数据，0A表示数据长度，D1表示设备类型，04表示传感器数据，QQQQ是上报温度值（单位：℃），0P表示数据类型， 02：正数1位小数  05：负数1位小数;



0AD2040PQQQQ：端口D2的数据，0A表示数据长度，D2表示设备类型，04表示传感器数据，QQQQ是上报湿度值（单位：RH%）;0P表示数据类型为02时表示正数1位小数（0P数据不按照实际上报的，我们按照固定解析方式）。



0AD3040PQQQQ：端口D3的数据，0A表示数据长度，D3表示设备类型，04表示传感器数据，0P表示数据类型，为01表示正数（0P数据不按照实际上报的，我们按照固定解析方式），QQQQ是上报光强值（单位：LUX）。

2）发送数据协议

控制模式：共一种命令表示获取数据，命令格式04XX42，04是数据长度，XX是子设备类型（D1 D2 D3），42是获取数据。（注意：要向对应的ep发送获取数据的命令，如向ep2发送获取温度数据04D142。）

设置模式：共两种命令，0：撤防；1：布防。


### 门锁 Type--OP
门锁，设备类型DeviceType=OP。

企业合作设备，

1）返回数据协议

021C 欠压报警

021D 防撬报警

0A01:普通用户密码验证失败

0A10:普通用户开锁密码验证错误

0A00:管理员用户认证失败

0105XXX...:管理员认证成功，XXX..为token信息。

0A11:管理员密码密码错误。

021F:表示连续密码出错，系统锁定报警

021E:表示解除系统锁定

020A：表示锁具反锁

020B：表示解除锁具反锁

0809aabbccCNAME:挟持报警 'aa'表示防劫持方式,'bb'表示客户属性,'cc'表示客户编号,CNAME表示客户名称（长度不定）

080Baa:锁具方舌状态上报 '01'表示方舌缩进；（开门了） '00'表示方舌伸出；（正常）

080Caabbccd:查询设备状态返回 第一个‘080C’表示锁具信息上报 aa表示锁具方舌状态，bb表示系统锁定状态，cc表示反锁状态，dd表示电量 注意:方舌缩进为“01”，系统锁定为“01”，反锁为“01”，电量低为“01”，反之填“00”

0808aabbccCNAME:第一个‘0808’表示开锁信息上报,'aa'表示客户属性,'bb'表示客户编号,'cc'表示开门方式（密码/指纹/射频卡/APP等信息）[00/01/02/03]，CNAME表示客户名称（长度不定）

080E0333aabbCCCCCCCCCCCC：'08'为固定字节；‘0E’表示无线新添加客户；‘03’表示添加的客户属性（为动态密码）固定字节； '33'表示添加的客户编号（16进制需要转下，固定字节）；‘aa’为密码序列号（此处固定字节01）；‘bb’为密码长度（此处固定字节06）； 'CCCCCCCCCCCC'为密码信息

2）发送数据协议

（设置）0:撤防,1:布防

以下为控制命令：

34 :查询设备当前状态

11cdddddd : 验证门锁面 第一个'11'表示密码验证开锁,'c'表示密码长度,'dddddd'表示密码信息.

15abbcdeeeeee :第一个'15'表示管理员密码验证

'a'表示客户属性（0管理用户）

'bb'表示客户编号（01-02 默认填写01即可）

'c'表示密码序列号 默认填写01

'd'表示密码长度 默认填写06

'eeeeee'表示密码信息 密码必须只能为6位

16 动态密码获取。

### 门锁 Type--OW
门锁，设备类型DeviceType=OW。

企业合作设备，佳卫

1）返回数据协议

0801：密码重复

0802：密码非法

0807bbbb：开锁成功，bbbb编号：0000-00FF

0810：操作失败

0220：管理员认证通过

0804：时钟无效

0806：添加成功

0102 自动上锁

0213 不反锁标志

0214 反锁标志

0217 入侵报警

0218 报警解除

021D 锁体破坏报警

021F 连续密码出错报警

021C 欠压报警

03XXXX：本地密码开锁主动上报, XXXX表示具体的钥匙号:0000~00FF之间。数据长度不定

04XXXX：纽扣开锁,XXXX表示具体的纽扣号，从0000~00FF之间。数据长度不定  

05XXXX：指纹开锁,XXXX表示具体的指纹号，从0000~00FF之间。数据长度不定  

06xxxx：本地射频卡开锁,XXXX表示具体的射频卡号，从0000~00FF之间。数据长度不定

078A：钥匙开锁

2）发送数据协议

（设置）0:撤防,1:布防

以下为控制命令：

5nyyyyyy :远程开锁

2bcccccc:管理员认证 b表示密码长度（4-9位）

3bcccccddddddddddddd：表示添加普通用户，b表示密码长度（4-9位）；ccccccc表示密码；dddddddddddd为时间参数

4bcccccddddddddddddd：添加单次有效用户；b表示密码长度（4-9位）；ccccccc表示密码；dddddddddddd为时间参数

### 猫眼

相关协议请查看[tutk]（http://192.168.20.220/index.php/s/AQXRUvs7btRPHxf）

### 人体运动感应开关 Type--Aq
人体运动感应开关，设备类型DeviceType=Aq。

1）返回数据协议

**设备工作模式上报:yyaabbccdd**

yy:上报设备数据长度，定值为08

aa:    设备工作模式  01:感应开关模式  00：红外入侵模式

bb:    灯控模式      01：夜晚动作     00：白天夜晚都动作

cc：   设防状态      01：设防状态     00：撤防状态

dd：   亮灯时间     （单位30s）

**状态上报:yyaabb**

yy:数据长度  定制为04

aa:数据类型  06：灯的状态数据    05：红外报警数据

bb:    表示灯状态数据时    00：灯灭  01：灯亮

表示红外报警数据时  00：消警  01：报警

**阀值设置返回:yyddee**

yy：定值为04

"dd： 命令类型   

	01:设置设备工作模式
	02：设置灯控模式
	03：设置设防模式
	04：设置亮灯时间

ee:设置后设备状态的返回值

 设置设备工作模式时：

     ‘0'红外入侵模式
     ‘1’感应开关模式
     设置灯控模式时：
     ‘0’白天夜晚都动作
     ‘1’夜晚动作
     设置设防状态时：
     ‘0’撤防
     ‘1’设防
     设置亮灯时间时：
       表示亮灯时间单位
       单位30s,例如2min
       就写‘4’   

2）发送数据协议

**阀值设置命令:AB**

A表示命令类型:

   1:设置设备工作模式
   2：设置灯控模式
   3：设置设防模式
   4：设置亮灯时间

B具体设置值：

     设置设备工作模式时：
     0:红外入侵模式
     1:感应开关模式
     设置灯控模式时：
     0:白天夜晚都动作
     1:夜晚动作
     设置设防状态时：
     0:撤防
     1:设防
     设置亮灯时间时：
       表示亮灯时间单位
       单位30s,例如2min
       就写‘4’      

**阀值查询命令**

协议未体现
