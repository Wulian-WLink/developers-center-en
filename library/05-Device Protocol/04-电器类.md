## 电器类设备协议

>电器类设备，主要包括移动插座、红外转发器、万能红外转发器、机械手、水阀、墙面插座、二路墙面插座、窗帘控制器、百叶窗、移动计量插座--SR、温控器、一路可调窗帘、二路可调窗帘、电台（梦想之花和炫彩灯虚拟设备）、音乐播放器（吸顶灯虚拟设备）、电压力煲、无线音乐盒、大金中央空调、幕帘探测器、机械手、水阀、电机，新风系统，温控器等。


### 移动计量插座 （停产） Type--15
移动插座，设备类型DeviceType=15。

1）返回数据协议

（十六进制）

位1～2:01（表示状态）

位3～4:状态值（00:关,01:开,FF:未知）

（以下可无）

位5～6:02（表示查询数据）

位7～8:查询类型（01:电量）

位9～16:电量（单位:0.001KW·h）

位5～6:05（表示计量参数）

位7～8:计量类型（00:全部）

位9～12:电流（单位:0.001A）

位13～16:电压（单位:0.1V）

位17～20:频率（单位:0.1HZ）

位21～26:功率（单位:0.1W）

位27～34:电量（单位:0.001KW·h）

2）发送数据协议

10:关

11:开

12:查询

13:切换

21yymmddyymmdd:查询区间用电量

50:读所有计量数据

### 移动插座 Type--16
移动插座，设备类型DeviceType=16。

1）返回数据协议

返回数据由1位数表示插座状态，0：关；1：开。

2）发送数据协议

发送数据由1位数表示开关状态，0：关；1：开。

### 红外转发器 Type--22
红外转发器，设备类型DeviceType=22。

1）返回数据协议

返回数据由4位数组成。

第1位表示工作模式，1：学习；2：使用；

第2~4位表示红外发射码，范围0~629。

2）发送数据协议

发送数据由4位数组成。

第1位表示工作模式，1：学习；2：使用；

第2-4位表示红外发射码，范围0~629。

### 万能红外转发器 （MK001） Type--23
万能红外转发器（MK001），设备类型DeviceType=23。

1）返回数据协议

前两位表示命令类型，后面是具体消息，消息定义都是字节流，字节流通过HEX编码后传输

0A表示透传，具体命令格式参考[i-One Integrated QS IRB Product Specification]（/5-Protocal of Devices/uei MK001/i-One Integrated QS IRB Product Specification.doc），在包的最前面增加Byte （1） Command Code

0B表示增加快捷空调码（简单控制），Byte（1） result code

0C表示执行快捷空调码,Byte（1） result code

0D表示删除快捷空调码,Byte（1） result code

0E表示查询码库是否存在， Byte（1） result code

result code:0x01代表执行成功（码库已存在），0x02代表执行失败，0x03代表码库不存在

2）发送数据协议

前两位表示命令类型，后面是具体消息，消息定义都是字节流，字节流通过HEX编码后传输

0A表示透传，具体命令格式参考[i-One Integrated QS IRB Product Specification]（/5-Protocal of Devices/uei MK001/i-One Integrated QS IRB Product Specification.doc），省略原协议中包头6个字节

0B表示增加快捷空调码（简单控制），AirConCodeId （2）, LearnedData（n）。AirConCodeId小于629

0C表示执行快捷空调码,AirConCodeId （2）

0D表示删除快捷空调码,AirConCodeId （2）

0E表示查询码库是否存在， DeviceType（1）, CodesetNum（2）

3）设置参数说明

- key:mode_deviceCode  
mode（1是匹配成功，2是学习的其它设备，3代表空调，4代表学习的空调）  
deviceCode(mode=1和3时采用UEI的5位字符串原值；mode=2时，第一位代表设备类型参考UEI（为@表示非模板的学习），后面全部为数字，作为设备的标识，不重复即可；mode=4时，两位代表设备的标识，不重复即可）  
- value:
mode=1  
``` json
{"b":"brand品牌名","m":"model型号", "nm":"name自定义名称，可为空","kcs":[keyid1,keyid2,设备支持的按键值集合]}  
```
mode =2   
``` json
{"b":"brand品牌，可为空","nm":"name自定义名称","kcs":[{"lc":"learnedCodeid学习按键ID","k":"keyid对应的码库key，范围1-255，当为标准类型设备时用于显示界面","nm":"name自定义按键名，用于非标准设备类型"},...]}
```
mode=3  
``` json
{"b":"brand品牌名","m":"model型号","nm":"name自定义名","kcs":[{"ac":"acCodeid空调的快捷码","s":"status用于显示空调状态","nm":"name按键自定义名},...]}
```
status格式：  
模式-温度-温度单位-风量-左右扫风-上下扫风  
模式（0关-1自动-2制冷-3制热-4抽湿-5换气-6+A1:G102C摄氏度，F华氏度；风量（0-自动，1-低，2-中，3-高，4安静，5自然风）；左右扫风（0-自动，1-左2，2-左1，3-中，4-右1，5-右2，9-关闭）；上下扫风（0-自动，1-下2，2-下1，3-中，4-上1，5-上2，9-关闭）  
mode=4
``` json
{"b":"brand品牌名", "nm":"name自定义名","kcs":[{"ac":"acCodeid空调的快捷码","s":"status用于显示空调状态","nm":"name按键自定义名},...]}
```
status格式同mode=3


### 万能红外转发器 Type--24
万能红外转发器，设备类型DeviceType=24。

1）返回数据协议

返回数据由12位十六进制数组成。

第1~2位表示工作模式，01：学习；02：控制；03：搜索匹配。

第3~4位表示红外类型，00：通用；01：空调：02：机顶盒。

第5~8位表示品牌码，需转换成3位十进制字符，不足左补零。

第9~12位表示控制码，需转换成3位十进制字符，不足左补零；模式为03时为空。

2）发送数据协议

发送数据由4位数组成。

第1位表示工作模式，01：学习；02：控制；03：搜索匹配。

第2~3位表示红外类型，00：通用；01：空调：02：机顶盒。

第4~6位表示品牌码，3位十进制字符，不足左补零。

第7~9位表示控制码，3位十进制字符，不足左补零；模式为03时为空。

### 机械手 Type--25
机械手，设备类型DeviceType=25。

1）返回数据协议

01表示停止

02表示打开

03表示关闭

04表示超时，未达到开位置

05表示超时，未达到关位置

2）发送数据协议

2表示打开

3表示关闭

### 水阀 Type--28
水阀，设备类型DeviceType=28。

1）返回数据协议

11:开,10:关

2TTTT:开TTTT秒后关闭（0000～7200）

2）发送数据协议

11:开,10:关

2TTTT:开TTTT秒后关闭（0000～7200）

### 平板音响 （停产） （透传） Type--29
平板音响，设备类型DeviceType=29。

1）返回数据协议

（十六进制）

01xxxx: 01表示选曲播放,xxxx表示曲目

（FM模式下,01表示选台收听,xxxx表示频率）

02ii: 02表示播放控制,ii（00为播放,01为暂停,02为停止）

（FM模式下,0200表示搜台20秒,搜台时不接受其他任何控制）

03xx: 03表示上下曲切换,xx（00为上一曲,01为下一曲）

（FM模式下,0301表示换台）

04bb: 04表示音量调整,bb（0x00～0x1F）

05cc: 05表示静音功能,cc（00为取消静音,01为静音）

0601iijjbbccddeexxxxyyyyzzzz: （MP3模式下06的返回信息）

ii表示播放状态,jj表示MP3载体,bb表示音量,cc表示静音状态,dd表示音效模式,ee表示循环模式,xxxx表示当前曲目,yyyy表示歌曲总数,zzzz表示播放时间

0602bbccddeexx: （FM模式下06的返回信息）

bb表示音量,cc表示静音状态,ddee表示频道（除以10.0）,xx表示电台序号

0603bbccdd: （蓝牙模式下06的返回信息）

bb表示音量,cc表示静音状态,dd表示音效模式

07dd: 07表示音效模式切换,dd（00为NORMAL,01为POP,02为ROCK,03为JAZZ,04为CLASSIC,05为COUNTRY）

08ee: 08表示循环模式切换,ee（00为REPEAT_ALL,01为REPEAT_RANDOM,02为REPEAT_ONE,03为REPEAT_FOLDER,04为REPEAT_BROWSE）

09xx: 09表示模式切换,xx（00为MP3模式,01为FM模式,02为节能模式,03为蓝牙模式）

0Bxx: 0B表示获取当前模式,xx（00为MP3模式,01为FM模式,02为节能模式,03为蓝牙模式,4为POWER OFF）

0Cjj: 0C表示MP3载体切换,jj（01为USB,00为SD）

0Fxxxxyyzz…: 0F表示读取曲名,xxxx表示曲目,yy表示曲名长度,zz…表示曲名（<=8个字符为短曲名,编码为英文ASCII码以及中文GBK2312; > 8个字符为长曲名,编码为UTF-16）

2）发送数据协议

1xxxx: 1表示选曲播放,xxxx表示曲目（不足左补0）

（FM模式下,1表示选台收听,xxxx表示频率,如0975表示97.5M）

2x: 2表示播放控制,x（0为播放,1为暂停,2为停止）

（FM模式下,20表示搜台,搜台时不接受其他任何控制）

3x: 3表示上下曲切换,x（0为上一曲,1为下一曲）

（FM模式下,31表示换台）

4xx: 4表示音量调整,xx（00～31）

5x: 5表示静音功能,x（0为取消静音,1为静音）

6: 6表示获取当前播放信息

7x: 7表示音效模式切换,x（0为NORMAL,1为POP,2为ROCK,3为JAZZ,4为CLASSIC,5为COUNTRY）

8x: 8表示循环模式切换,x（0为REPEAT_ALL,1为REPEAT_RANDOM,2为REPEAT_ONE,3为REPEAT_FOLDER,4为REPEAT_BROWSE）

9x: 9表示模式切换,x（0为MP3模式,1为FM模式,2为节能模式,3为蓝牙模式）

B: B表示获取当前模式

Cx: C表示MP3载体切换,x（1为USB,0为SD）

F: F表示读取文件名

 如/C/UUdXXXX1xxx

### 墙面插座 Type--50
墙面插座，设备类型DeviceType=50。

1）返回数据协议

0:关,1:开,255:异常

注:单次返回一条数据,分多次返回

2）发送数据协议

0:关,1:开,2:不变

### 二路墙面插座 Type--51
二路墙面插座，设备类型DeviceType=51。

1）返回数据协议

0:关,1:开,255:异常

注:单次返回一条数据,分多次返回

2）发送数据协议

0:关,1:开,2:不变

### 窗帘控制器 Type--65

1）返回数据协议

1:停,2:开,3:关

2）发送数据协议

### 金属窗帘控制器 Type--Ar
控制协议与65相同，但65不支持软件绑定，Ar支持软件绑定

1）返回数据协议

1:停,2:开,3:关

2）发送数据协议

1:停,2:开,3:关

### 百叶窗 Type--66
百叶窗，设备类型DeviceType=66。

1）返回数据协议

1:停,2:开,3:关,4:单开,5:单关

2）发送数据协议

1:停,2:开,3:关,4:单开,5:单关

### 一路计量插座 （透传） Type--72
一路计量插座（透传），设备类型DeviceType=72。

1）返回数据协议

（十六进制）

TT01xxaaaayyyyzzzzzz:

TT代表设备类型，TT:16代表SW16，TT:30代表SW30

01表示当前状态信息;

xx表示开关状态（00:关,01:开）;

aaaa:当前电流（扩大100倍）

yyyy表示当前功率（单位W,0x0000-0xFFFF）;

zzzzzz表示当前累计电量（单位WH,0x000000-0xF42400,最大16000KWH）;

TT03xxxx：01:代表设置最大保护功率的命令码。xxxx:表示设置的最大功率值（默认6000W） 单位W

TT04xxxx：设备的状态上报机制：02:代表设置上报功率阀值命令码xxxx:表示设置的功率阀值（默认10W）

TT05xx:代表过流报警识别 xx:00->表示消除报警，01->报警

2）发送数据协议

10:关

11:开

12:查询

13:切换

2:读所有计量数据

3xxxx：设置最大保护功率，xxxx:最大功率保护关断功率。如3000表示3000W时自动关断 范围500~6000,默认6KW

4xxxx：设置主动上报的功率阀值。xxxx:功率阀值上报

最小10W.默认10W变化才上报

5：消除过流报警

### 移动计量插座--SR （透传） Type--77
移动计量插座--SR（透传），设备类型DeviceType=77。

1）返回数据协议

（十六进制）

09xxyyyyzzzzzz:

09表示当前状态;

xx表示开关状态（00:关,01:开）;

yyyy表示当前功率（单位W,0x0000-0xFFFF）;

zzzzzz表示当前累计电量（单位WH,0x000000-0xF42400,最大16000KWH）;

2）发送数据协议

10:关

11:开

12:查询

13:切换

50:读所有计量数据

### 温控器 （透传） Type--78
温控器（透传），设备类型DeviceType=78。

1）返回数据协议

（十六进制）

06xxyyppqqqqiijj:

06表示当前状态;

xx表示模式00/01/02/09;

yy表示风速00/01/02/03/04;

pp表示温度符号（00:正,01:负）;

qqqq表示当前温度（0x0000-0xFFFF,单位为0.1'C）;

ii表示制热温度（0x10-0x1E）;

jj表示制冷温度（0x10-0x1E）

2）发送数据协议

0y:0表示控制电源;y表示状态（0:关,1:开）

1y:（内部测试）1表示控制阀门;y表示状态（0:关,1:开）

2y:2表示控制风速;y表示风速（0:停风,1:小风,2:中风,3:大风,04:AUTO）

3y:3表示控制模式;y表示模式（0:HEAT,1:COOL,2:FAN）

4y:4表示设置制热温度;y表示温度（16-30,单位为'C）

5y:5表示设置制冷温度;y表示温度（16-30,单位为'C）

6:6表示读取当前状态

### 一路可调窗帘 （透传） Type--80
一路可调窗帘（透传），设备类型DeviceType=80。

1）返回数据协议

（十六进制）

位1～2:是否可调（00:无效,01:有效）

位3～4:打开幅度（0x00～0x64表示000～100）

0x00表示关闭,0x64表示打开,0xFF表示停止

注:0x32表示打开幅度为50%

2）发送数据协议

位1:是否可调（0:无效,1:有效）

位2～4:打开幅度（000～100）

000表示关闭,100表示打开,255表示停止

### 二路可调窗帘 Type--81
[主type=81  端口1 epType=80  端口2 epType=80]

二路可调窗帘，设备类型DeviceType=81。

1）返回数据协议

（十六进制）

位1～2:是否可调（00:无效,01:有效）

位3～4:打开幅度（0x00～0x64表示000～100）

0x00表示关闭,0x64表示打开,0xFF表示停止,0xFA表示换向,0xF0表示清除行程

注:0x32表示打开幅度为50%

窗帘消息推送命令回复（端口1数据）：

FMNN:F表示消息推送，M表示是否有分包（0:不分包，1:分包），NN表示分包数（0x00-0x63，十六进制）

2）发送数据协议

窗帘控制命令（端口1或端口2数据）:

位1:是否可调（0:无效,1:有效,9:不动作（加000））

位2～4:打开幅度（000～100）

000表示关闭,100表示打开,255表示停止,250表示换向,240表示清除行程

2路同时控制:ep=0，epData=MAAANBBB 来直接控制2路窗帘

窗帘消息推送命令（端口1数据）:

FZZZ...:F表示消息推送，ZZZ...表示推送消息（GB2312编码后，把每个自己转成两自己16进制ASCII码，如0xc3转成"c3"）

### 温控器 （美标） Type--82

设备类型DeviceType=82。

1）**返回数据协议**

（十六进制）

abxxyyzzmmnnaabbbbccccqqqqiijjjjkkkkpp

1、ab返回数据识别码a：0成功、8失败 b：返回类型1表示查询当前状态2表示开关设置3表示工作模式4表示风机设置5表示温标设置6表示系统工作模式

2、xx:设备开关状态（开机、关机）00:off 01:on

3、yy:设备风机模式（开启、自动）01:automatic 02:always on

4、zz：温度标志位00:摄氏'C 01:华氏F

5、mm:设备、供热方式00:设备处于初始状态01:[Conventional,Single Fuel];02:[Conventional,Dual Fuel];03:[Heat Pump,Single Fuel];04:[Heat Pump,Dual Fuel]

6、nn:系统类型 01/02/03/04/05/06（系统特殊工作模式：mm为00时，nn的00：设备为初始状态，需设置后方可正常使用；mm为01时，nn的01:heavonly/02:cool only/03:一级制热一级制冷/04:一级制热二级制冷/05:二级制热一级制冷/06:二级制热二级制冷;mm为02时,nn的01:一级制热一级制冷/02:一级制热二级制冷/03:二级制热一级制冷/04:二级制热二级制冷;mm为03时,nn的01:一级热泵/02:二级热泵/03:一级热泵 + 辅热/04:二级热泵 + 辅热/05:一级热泵 + 二级辅热/06:二级热泵 + 二级辅热;mm为04时,nn的01:一级热泵/02:二级热泵/03:一级热泵 + 辅热/04:二级热泵 + 辅热/05:一级热泵 + 二级辅热/06:二级热泵 + 二级辅热;）

7、aa:设备工作模式（制热、制冷、自动）01:heat/02:cool/03:auto

8、bbbb:制热温度（0x0000-0xFFFF,单位为0.01’C）

9、cccc:制冷温度（0x0000-0xFFFF,单位为0.01’C）

10、qqqq:当前环境温度数值（0x0000-0xFFFF,单位为0.1’C）

11、ii:当前环境湿度（0x00-0xFF,单位为1）

12、jjjj:自动模式，制热温度（0x0000-0xFFFF,单位为0.01’C）

13、kkkk:自动模式，制冷温度（0x0000-0xFFFF,单位为0.01’C）

14、pp:设置锁定 （暂未使用）
被动返回命令：A1A2，（底层设备获取外部温度（APP前端无需使用））

abaabbccddmmnnYYMMDDHHmmSSee

1、ab返回数据识别码 a：0成功、8失败 b：返回类型7表示时间设置8表示温度校正设置9表示声效设置A表示紧急制热

2、aa:温度校正数据:01~0D（暂不使用）

3、bb:swing设置数据:01~08

4、cc:diff设置数据:01~05

5、dd:third设置数据01~06

6、mm:声效数据:00:off/01:on

7、nn:紧急制热数据:00:off/01:on

8、YYMMDDHHmmSS:时间数据:YY:年/MM:月/DD:日/HH:时/mm:分/SS:秒

9、ee:震动数据:00:off/01:on

ab

1、ab返回数据识别码 a：0成功、8失败 b：返回类型 B表示制冷或制热编程 C表示自动编程

2）**发送数据协议**

1A:1表示查询当前状态；A表示查询类型（1:基本数据,2:模式）

2A：2表示开关设置；A表示开关设置命令（0:关机,1:开机）

3AXBBBBCCCC：3表示工作模式；A表示（A->1：制热A->2：制冷A->3：自动）；X表示模式切换标志（X->0：改变模式X->1：改变温度）；BBBBCCCC温度设置：（A->1：制热，BBBB:设置的制热温度值，CCCC=0000；A->2：制冷，BBBB=0000，CCCC:设置的制冷温度值；A->3：自动，BBBB:设置的制热温度值,CCCC:设置的制冷温度值）

4A：4表示风机设置；A表示风机设置命令（A->1：自动,A->2：打开）

5A：5表示温标设置；A表示温标设置命令（A->0:℃；A->1:F）

6AB：6系统工作模式设置:（系统特殊工作模式：系统类型A->0，B->0 设置设备为初始状态；A:设备选择+供热方式1：普通+电热/2：普通+燃料/3：热泵+电热/4：热泵+燃料）（系统类型A->1，B:1:heavonly/2:cool only/3:一级制热一级制冷/4:一级制热二级制冷/5:二级制热一级制冷/6:二级制热二级制冷；A->2，B:1:一级制热一级制冷/2:一级制热二级制冷/3:二级制热一级制冷/4:二级制热二级制冷；A->3，B:1:一级热泵/2:二级热泵/3:一级热泵 + 辅热/4:二级热泵 + 辅热/5:一级热泵 + 二级辅热/6:二级热泵 + 二级辅热；A->4，B:1:一级热泵/2:二级热泵/3:一级热泵 + 辅热/4:二级热泵 + 辅热/5:一级热泵 + 二级辅热/6:二级热泵 + 二级辅热）

7YYMMDDHHmmSS:7表示为时间设置;YY:年;MM:月;DD:日;HH:时;mm:分;SS:秒

8AB:1、8：控制码2、A: 设置对象（1：温度校正/2：swing设置/3：diff设置/4:third设置）B: 数据（根据温标和设置对象的不同）   （A->1：温度校正： B->:1 2 3 4 5 6 7 8 9 A B C D;A->2：swing设置：B->:1 2 3 4 5 6 7 8;A->3：diff设置： B->1 2 3 4 5;A->4：third设置：B->:1 2 3 4 5 6）

9A:9表示设置声效；A表示设置声效命令（A->0：关闭；A->1：开启）

AX：A紧急制热设置；X表示紧急制热设置命令（X->0：关闭；A->1：打开）

BXYAABB（6个AABB）：B表示为编程设置；X代表模式（X->1：制热，X->2：制冷）；Y代表星期（周日—周六（0-6））；AA（时间，24小时制，以15分钟为单位）；BB:代表温度（10-32,单位为'C）

CXYAABBCC（6个AABBCC）：C表示为编程设置_自动；X代表模式（X->3：自动）；Y代表星期（周日—周六（0-6））；AA（时间，24小时制，以15分钟为单位）；BB:代表温度（10-32,单位为’C）；CC:代表制冷温度（10-32,单位为’C）

DA：D表示震动设置；A表示震动设置命令（0:关,1:开）


### 风机盘管 Type--Af

####名称：风机盘管 类型：Af 功能：电器

#### ***返回/上线数据(十六进制)***

~~~
abxxyyzzaabbbbccccqqqqiiddHHmmttrrrssss
~~~

1. ab返回数据识别码a：0成功、8失败 b：返回类型1表示查询当前状态2表示开关设置3表示模式设置4表示风机设置5表示温标设置6表示温度设置
2. xx:设备开关状态（开机、关机）00:off 01:on
3. yy:设备风机模式（关闭、低、中、高、自动）00=关闭 01=低风 02=中风 03=高风 04=自动
4. zz：温度标志位00:摄氏'C 01:华氏F
5. aa:设备工作模式(制热、制冷，通风、制热节能、制冷节能)01=heat 02=cool 03=通风 04=制热节能 05=制冷节能
6. bbbb:制热温度(0x0000-0xFFFF,单位为0.01’C)
7. cccc:制冷温度(0x0000-0xFFFF,单位为0.01’C)
8. qqqq:当前环境温度数值(0x0000-0xFFFF,单位为0.1’C)
9. ii:当前环境湿度(0x00-0xFF,单位为1)
10. dd:定时器状态 00=无定时关闭，关闭定时（之前已经设置了定时但时间未到想取消定时） 01=设置为定时开机，定时开 02=设置为定时关机，定时关
11. HHmmtt：定时器倒计时时间
12. rrrr:制热温度(0x0000-0xFFFF,单位为0.01’C)
13. ssss:制冷温度(0x0000-0xFFFF,单位为0.01’C)

被动返回命令：A1A2，（底层设备获取外部温度（APP前端无需使用））

~~~
abmmYYMMDDHHmmSSeebbcc
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型7表示时间设置8表示温度校正设置9表示声效设置A(暂无)
2. mm:声效数据:00:off/01:on
3. YYMMDDHHmmSS:时间数据:YY:年/MM:月/DD:日/HH:时/mm:分/SS:秒
4. ee:震动数据:00:off/01:on
5. bb:回差温度:编码表01~19，01到19表示摄氏度1到10度(01-19,单位为0.5'C)
6. cc:编程模式开关:00:off/01:on

~~~
ab
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型 B表示制冷或制热编程

~~~
abcc
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型 C表示用户编程模式开关
2. cc:编程模式开关:00:off/01:on

~~~
abcc
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型 D表示震动设置
2. cc:震动设置开关:00:off/01:on

~~~
abYYMMDDHHmmSS
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型 E表示定时设置
2. YYMMDDHHmmSS:时间数据:YY:年/MM:月/DD:日/HH:时/mm:分/SS:秒

~~~
abrrrrssss
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型 F表示节能模式温度设置
2. rrrr:制热温度(0x0000-0xFFFF,单位为0.01’C)
3. ssss:制冷温度(0x0000-0xFFFF,单位为0.01’C)

~~~
ab
~~~

1. ab返回数据识别码 ab：12成功、92失败  返回类型(表示恢复出厂设置）

#### ***发送数据***
* 1A:1表示查询当前状态；A表示查询类型(1:基本数据,2:模式)  
* 2A：2表示开关设置；A表示开关设置命令(0:关机,1:开机)  
* 3A：3表示工作模式；A表示(A->1：制热 A->2：制冷 A->3：通风 A->4：制热节能 A->5：制冷节能)  
* 4A：4表示风机设置；A表示风机设置命令(A->0：关闭,A->1：低风,A->2：中风,A->3：高风,A->4：自动)  
* 5A：5表示温标设置；A表示温标设置命令(A->0:℃；A->1:F)  
* 6BBBBCCCC：6温度设置:BBBB设置的制热温度(扩大100倍)，CCCC设置的制冷温度(扩大100倍)  
* 7YYMMDDHHmmSS:7表示为时间设置;YY:年;MM:月;DD:日;HH:时;mm:分;SS:秒  
* 8BB:BB为编码值，编码表01~19，01到19表示摄氏度1到10度(01-19,单位为0.5'C)  
* 9A:9表示设置声效；A表示设置声效命令（A->0：关闭；A->1：开启）  
* BXYAABB(6个AABB)：B表示为编程设置；X代表模式（X->1：制热，X->2：制冷）；Y代表星期（周日—周六（0-6））；AA(时间，24小时制，以15分钟为单位)；BB:代表温度（10-32,单位为'C）  
* CA：A表示编程模式设置命令(A->0:off；A->1:on)  
* DA：D表示震动设置；A表示震动设置命令(0:关,1:开)  
* EABB:A表示设置开关(A->0：关闭定时（之前已经设置了定时担时间未到想取消定时）A->1：定时开 A->2：定时关 ) BB表示定时时间(时间，24小时制，以15分钟为单位，**只在A为1或2时有效**)   
* G:恢复出厂设置   

### 地暖 Type=Ap

####名称：地暖 类型：Ap 功能：电器

#### ***返回/上线数据(十六进制)***

~~~
abccddeeeeffggggiijjjjkkkkllooHHmmssppqqqqrrrr
~~~

1. ab返回数据识别码a：0成功、8失败 b：返回类型1表示查询当前状态2表示开关设置3表示模式设置4表示风机设置5表示温标设置6表示温度设置
2. cc:设备开关状态（开机、关机）00:off 01:on
3. dd:过温保护开关 00:off 01:on
4. eeee:过温保护温度设置模式，过温温度(0x0000-0xFFFF,单位为0.01’C)
5. ff:防冻保护开关 00:off 01:on
6. gggg:防冻保护温度设置模式，过温温度(0x0000-0xFFFF,单位为0.01’C)
4. ii：温度标志位00:摄氏'C 01:华氏F
6. jjjj:制热温度(0x0000-0xFFFF,单位为0.01’C)
8. kkkk:当前环境温度数值(0x0000-0xFFFF,单位为0.1’C)
9. ll:当前环境湿度(0x00-0xFF,单位为1)
10. oo:定时器状态 00=无定时关闭，关闭定时（之前已经设置了定时但时间未到想取消定时） 01=设置为定时开机，定时开 02=设置为定时关机，定时关
11. HHmmss：定时器倒计时时间 HH:时;mm:分;SS:秒
12. ll:一键节能开关 00:off 01:on
12. qqqq:一键节能温度(0x0000-0xFFFF,单位为0.01’C)
13. rrrr:地表温度(0x0000-0xFFFF,单位为0.01’C)

~~~
abmmYYMMDDHHmmSSeebbccooppqq
~~~

1. ab返回数据识别码 a：0成功、8失败 b：返回类型7表示时间设置8表示温度校正设置9表示声效设置A(暂无)
2. mm:声效数据:00:off/01:on
3. YYMMDDHHmmSS:时间数据:YY:年/MM:月/DD:日/HH:时/mm:分/SS:秒
4. ee:震动数据:00:off/01:on
5. bb:回差温度:编码表01~19，01到19表示摄氏度1到10度(01-19,单位为0.5'C)
6. cc:编程模式开关:00:off/01:on
7. oopp:D0联动 oo->00: 关闭联动  oo->01：打开联动 pp->00：电源联动  pp->01：与加热器输出联动
8. qq:系统选择 00:水地暖 01:电地暖

~~~
ab
~~~

1. ab返回数据识别码 ab：12成功、92失败  返回类型(表示恢复出厂设置）

#### ***发送数据***
* 1A:1表示查询当前状态；A表示查询类型(1:基本数据,2:模式)  
* 2A：2表示开关设置；A表示开关设置命令(0:关机,1:开机)  
* 3ABBBBF：1、A:过温保护开关，A->0:过温保护关  A->1：过温保护开 2、BBBB：温度（扩大100倍）F->0 ：设置保护开关   F->1 :设置保护温度  
* 4ABBBBF：1、A:防冻保护开关，A->0:防冻保护关  A->1：防冻保护开 2、BBBB：温度（扩大100倍）F->0 ：设置保护开关   F->1 :设置保护温度  
* 5A：5表示温标设置；A表示温标设置命令(A->0:℃；A->1:F)  
* 6BBBB：6温度设置:BBBB设置的制热温度(扩大100倍)  
* 7YYMMDDHHmmSS:7表示为时间设置;YY:年;MM:月;DD:日;HH:时;mm:分;SS:秒  
* 8BB:BB为编码值，编码表01~19，01到19表示摄氏度1到10度(01-19,单位为0.5'C)  
* 9A:9表示设置声效；A表示设置声效命令（A->0：关闭；A->1：开启）  
* AX:A表示系统选择；X: 设置系统，选择水/电地暖 X: X->0：水地暖 X->1：电地暖  
* BXYAABB(6个AABB)：B表示为编程设置；X代表模式（X->1：制热，X->2：制冷）；Y代表星期（周日—周六（0-6））；AA(时间，24小时制，以15分钟为单位)；BB:代表温度（10-32,单位为'C）  
* CA：A表示编程模式设置命令(A->0:off；A->1:on)  
* DA：D表示震动设置；A表示震动设置命令(0:关,1:开)  
* EABB:A表示设置开关(A->0：关闭定时（之前已经设置了定时担时间未到想取消定时）A->1：定时开 A->2：定时关 ) BB表示定时时间(时间，24小时制，以15分钟为单位，**只在A为1或2时有效**)  
* FABBBB:1、A:设置节能模式 A->0：关闭 A->1：打开 2、BBBB:制热节能温度值，步进0.5，扩大10O倍  
* GAB:DO联动 A->0: 关闭联动  A->1：打开联动 B->0：电源联动  B->1：与加热器输出联动  
* H:恢复出厂设置  

### 电台 （梦想之花和炫彩灯虚拟设备） Type--D9
电台（梦想之花和炫彩灯虚拟设备），设备类型DeviceType=D9。

1）返回数据协议

第一位表示命令类型，后面为命令参数

Xabbbcde{id order url pos name info}:当前播放器完整状态，a代表播放的内容，0代表正在播电台（直播），1代表正在播声音（点播）；bbb为音量；c为静音状态；d为播放模式；e为状态（播放/暂停/停止）。后面为不定长的字符串代表正在播放的内容，六个字段通过空格分隔。如果正在播放的声音在列表中，则id为对应的内容id；如果不在列表中，则id为-1；order为内容的顺序；url为内容的在线地址；pos代表播放到的位置，单位为秒；name为内容名称；info为内容备注信息。当客户端发送命令1/2/A/F/G/H/U/V/W/X/Y/Z时，返回该数据。

Bid order url name info：添加声音到播放列表最后一个

Cid order url name info，当前的声音播放列表（点播），id为声音在电台中的id由设备维护，固定为4位，只要当前列表中不重复就可以；order为声音在列表中的顺序不能重复；url为声音的地址；name为声音名称；info为备注信息，主要给APP使用。每条记录通过一个命令发送。当客户端发送命令C时返回该数据。当客户端发送命令H时，也返回该数据。

Dxxxx，当请求参数为D时原样返回客户端的指令。当请求参数为C时，返回时间戳后被删除的收藏项。

E，原样返回客户端的指令

3id url name info，当前电台的列表（直播）。每条记录通过一个命令发送。列表只保存10条电台，id固定为1至10。当客户端发送命令5时返回该数据。

4id，原样返回客户端的指令

5，原样返回客户端的指令

6id url name info:原样返回请求指令

2）发送数据协议

第一位表示命令类型，后面为命令参数，不定长的数据用空格分隔，如果某个字段中本身含有空格，则该字段应该在首尾加上双引号"，解析时把""包括起来的字段当做一个字

1XX：表示播放直播电台（已预存的频道）

2url name info：播放指定地址的直播电台，url是在线声音的地址，name是声音名称 info是声音的备注信息，三者用空格分隔

3xxxxxxxxxx：增量获取当前电台列表，3后面的10位是时间戳，为UNIX格式的time（1970年到现在的秒数）使用10进制数表示，如果要获取全量数据，则只发一个3

4id：删除指定电台

5：清空所有电台

6id url name info:添加一个直播到收藏列表，如果原来的id已有记录，则更新该记录。

Aurl name info:播放指定地址的声音，url是在线声音的地址，name是声音名称 info是声音的备注信息，三者用空格分隔

Burl name info：添加声音到播放列表最后一个

Cxxxxxxxxxx：增量获取当前播放列表，C后面的10位是时间戳，为UNIX格式的time（1970年到现在的秒数），使用10进制表示，如果要获取全量数据，则只发一个C

Dxxxx：删除播放列表的某一条记录，xxxx代表记录的id信息，位数不固定

E：清空播放列表

FY：表示模式切换，Y：1 列表循环 2 随机循环 3 单曲循环 4 列表顺序播放不循环播完停止

Gxxxx：播放列表中的id为xxxx的声音，位数不固定。

Hxxxx：播放列表中的id为xxxx的声音，xxxx位数不固定，播放结束后即停止播放。

UY：表示静音功能，Y：0 取消静音 1 静音，当取消静音时，声音应该恢复到静音前的状态

VYYY：表示音量调整，YYY：音量 0~100

WXXXX:表示调整当前声音的播放进度，单位为秒，XXXX代表进度的绝对位置

X：获取当前播放的状态

YX：切换，Y:0 上一曲（上一个电台） 1 下一曲（下一个电台）

ZY:表示播放状态，Y:0 播放 1 暂停 2 停止，当播放电台时不能暂停，发送暂停命令也是停止播放

### 音乐播放器 （吸顶灯虚拟设备） Type--DA
音乐播放器（吸顶灯虚拟设备）,设备类型DeviceType=DA。

1）返回数据协议

第一位表示命令类型，后面为命令参数

Xabbbcde{id order url pos name info}:当前播放器完整状态，a代表播放的内容，0代表正在播电台（直播），1代表正在播声音（点播）；bbb为音量；c为静音状态；d为播放模式；e为状态（播放/暂停/停止）。后面为不定长的字符串代表正在播放的内容，六个字段通过空格分隔。如果正在播放的声音在列表中，则id为对应的内容id；如果不在列表中，则id为-1；order为内容的顺序；url为内容的在线地址；pos代表播放到的位置，单位为秒；name为内容名称；info为内容备注信息。当客户端发送命令1/2/A/F/G/U/V/W/X/Y/Z时，返回该数据。

Bid order url name info：添加声音到播放列表最后一个Cid order url name info，当前的声音播放列表（点播），id为声音在电台中的id由设备维护，固定为4位，只要当前列表中不重复就可以；order为声音在列表中的顺序不能重复；url为声音的地址；name为声音名称；info为备注信息，主要给APP使用。每条记录通过一个命令发送。当客户端发送命令C时返回该数据。当客户端发送命令H时，也返回该数据。

Dxxxx，原样返回客户端的指令

E，原样返回客户端的指令

3id url name info，当前电台的列表（直播）。每条记录通过一个命令发送。列表只保存10条电台，id固定为1至10。当客户端发送命令5时返回该数据。

4id，原样返回客户端的指令

5，原样返回客户端的指令

6id url name info:原样返回请求指令

2）发送数据协议

第一位表示命令类型，后面为命令参数，不定长的数据用空格分隔，如果某个字段中本身含有空格，则该字段应该在首尾加上双引号"，解析时把""包括起来的字段当做一个字

1XX：表示播放直播电台（已预存的频道）

2url name info：播放指定地址的直播电台，url是在线声音的地址，name是声音名称 info是声音的备注信息，三者用空格分隔

3xxxxxxxxxx：增量获取当前电台列表，3后面的16位是时间戳，为UNIX格式的time（1970年到现在的秒数）使用16进制数表示，如果要获取全量数据，则只发一个3

4id：删除指定电台

5：清空所有电台

6id url name info:添加一个直播到收藏列表，如果原来的id已有记录，则更新该记录。

Aurl name info:播放指定地址的声音，url是在线声音的地址，name是声音名称 info是声音的备注信息，三者用空格分隔

Burl name info：添加声音到播放列表最后一个

Cxxxxxxxxxx：增量获取当前播放列表，C后面的16位是时间戳，为UNIX格式的time（1970年到现在的秒数），如果要获取全量数据，则只发一个C

Dxxxx：删除播放列表的某一条记录，xxxx代表记录的id信息

E：清空播放列表

FY：表示模式切换，Y：1 列表循环 2 随机循环 3 单曲循环 4 列表顺序播放不循环播完停止

Gxxxx：播放列表中的id为xxxx的声音。

Hid1 id2 id3 id4...:更新播放列表顺序，每个id之间用空格区隔，在新列表中按本消息中的id顺序排序，如果原列表中有id不在本消息中的，则按原列表顺序添加到新列表后面。

UY：表示静音功能，Y：0 取消静音 1 静音，当取消静音时，声音应该恢复到静音前的状态

VYYY：表示音量调整，YYY：音量 0~100

WXXXX:表示调整当前声音的播放进度，单位为秒

X：获取当前播放的状态

YX：切换，Y:0 上一曲（上一个电台） 1 下一曲（下一个电台）

ZY:表示播放状态，Y:0 播放 1 暂停 2 停止，当播放电台时不能暂停，发送暂停命令也是停止播放

### 电压力煲 （透传） Type--E2
电压力煲（透传），设备类型DeviceType=E2。

1）返回数据协议

（十六进制）

03ssffkkpphhmmhhmmss:控制命令、查询命令以及机器主动上报都返回03

ss表示机器运行状态（01表示开始、02表示停止、03表示暂停、04表示保温、05表示取消）

ff表示功能（01表示精煮米饭、02表示快煮米饭、03表示五谷饭、04表示排骨、05表示汤/粥、06表示蛋糕、07表示鸡鸭肉、08表示牛羊肉、09表示豆/蹄筋）

kk表示口感（01表示标准、02表示清香、03表示浓郁）

pp表示压力（01表示1档、02表示2档、03表示3档、04表示4档、05表示5档、06表示6档、07表示7档、08表示8档）

hhmm表示保压时间（hh 小时，03表示3小时；mm分钟，2d表示45分钟）

hhmm表示预约时间（hh小时，0d表示13小时；mm分钟，1e表示30分钟）

ss表示工作阶段（1表示升压，2表示沸腾，3表示保压，4表示降压，5表示完成）

2）发送数据协议

1sfkphhmmhhmm:1表示控制命令

s表示机器运行状态（1表示开始、2表示停止、3表示暂停、4表示保温、5表示取消）

f表示功能（1表示精煮米饭、2表示快煮米饭、3表示五谷饭、4表示排骨、5表示汤/粥、6表示蛋糕、7表示鸡鸭肉、8表示牛羊肉、9表示豆/蹄筋）

k表示口感（1表示标准、2表示清香、3表示浓郁）

p表示压力（1表示1档、2表示2档、3表示3档、4表示4档、5表示5档、6表示6档、7表示7档、8表示8档）

hhmm表示保压时间（hh 小时，03表示3小时；mm分钟，45表示45分钟）

hhmm表示预约时间（hh小时，13表示13小时；mm分钟，30表示30分钟）

2:表示查询命令   



各功能对应的默认保压时间和压力：精煮米饭（10分钟、3档），快煮米饭（8分钟、3档），五谷饭（10分钟、6档），排骨（15分钟、7档），汤/粥（20分钟、5档），蛋糕（40分钟、1档），鸡鸭肉（12分钟、7档），牛羊肉（25分钟、8档），豆/蹄筋（30分钟、8档）

### 无线音乐盒 （透传） Type--E4
无线音乐盒（透传）,设备类型DeviceType=E4。

1）返回数据协议

01xxxx：表示选取播放，01为标记，xxxx表示要选的曲目数

02xx：表示播放状态，02为标记，xx：00 播放 01 暂停 02 停止

03xx：表示上下去切换，03为标记，xx：00 上一曲 01 下一曲

04xx：表示音量调整，04为标记，xx：0x00~0x64

05xx：表示静音功能，05为标记，xx：00 取消静音 01 静音

06bbcceehhhhiiiikkllmmoo：表示当前状态，被/主动上报，

bb：网络（0x00 无网络 0x01 正在连接AP模式 0x02 正在连接联网模式 0x11 AP模式已连接 0x12 联网模式已连接 0xFF 本地模式）；cc：音量（0xxx~0x64[0~100]）；ee：播放状态（0x00 停止 0x01 播放 0x02 暂停）；hhhh:当前歌曲；iiii：歌曲总数；kk：循环模式（0x00 列表循环 0x01 随机循环 0x02 单曲循环）；ll：播放模式（00 无播放 01本地列表播放 02 DLNA播放 03AIRPLAY播放）；mm：下载状态（0x00 没有下载 0x01 正在下载 0x02 下载完成 0xff 下载失败）；oo:列表更新 （0x00:没更新,0x01:更新）

07：表示当前歌曲下载

08xx：表示循环模式切换，08为标记，xx：01 列表循环 02 随机循环 03 单曲播放

09xx：表示模式切换，09为标记，xx：01 AP模式 02 联网模式 03 WPS模式 04 SD卡模式

0B：设置了wifi的SSID

0C：设置了wifi的密码

0Fxxxxyyzz...：表示读取文件名，0F为标记，xxxx 当前曲目，yy 文件名长度，zz... 文件名 一个字符用两个字节表示，所以肯定是双数

2）发送数据协议

1YYYY：表示选取播放，1为标记，YYYY表示要选的曲目数

2Y：表示播放状态，2为标记，Y:0 播放 1 暂停 2 停止

3Y：表示上下曲切换，3为标记，Y:0 上一曲 1 下一曲

4YYY：表示音量调整，4为标记，YYY：音量 0~100

5Y：表示静音功能，5为标记，Y：0 取消静音 1 静音

6：表示获取当前状态

7：表示当前歌曲下载

8Y：表示循环模式切换，8为标记，Y：1 列表循环 2 随机循环 3 单曲播放

9Y：表示模式切换，9为标记，Y：1 AP模式 2 联网模式 3 WPS模式 4 SD卡模式

Bhhxxx...：表示设置wifi的SSID，B为标记，hh：为后面SSID的长度，xxx...：为SSID

Chhxxx...：表示设置wifi的密码，C为标记，hh：为后面密码的长度，xxx...：为密码

Fxxxx：表示读取文件名，F为标记，xxxx表示曲目,用UTF-8表示发送上去

### 大金中央空调 （透传） Type--a0
大金中央空调（透传）,设备类型DeviceType=a0。

1）返回数据协议

01MMNNN：01表示查询或者控制，MM表示数据长度，NNN表示数据

2）发送数据协议

1MMNNN：1表示查询或者控制，MM表示数据长度，NNN表示数据

### 幕帘探测器（透传） Type--a1
幕帘探测器（透传）,设备类型DeviceType=a1。

1）返回数据协议

0P: 00 正常 02左区域有人 03右区域有人

2）发送数据协议

无。
### 背景音乐 （透传） Type--DD

背景音乐（透传）,设备类型DeviceType=DD。

设备型号上报

	{
   		"cmd”: "boot",
   		"deviceid":"112233445566",
   		"model":"HOPE-A10",
   		"version": "V1.01.0001",
  	 	"manufacturer":"HOPE GROUP"
	}
1、音乐播放控制

1.1、播放  控制 （网关->平板）  反馈（平板->网关）

    {
    	"cmd":"setplaystate",
  		"sequence":1001,
  		"timestamp": "1441787638",
   	    "params":
   	   	{
			"state":"play"，
			"id":"74"
			"progress":100  //进度，单位秒 （小于0，则不改变当前进度播放）
		 }
	}
1.2、暂停 控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setplaystate",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"pause"
		}
	}
1.3、停止 控制 （网关->平板）  反馈（平板->网关）

    {
		"cmd":"setplaystate",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"stop"
		}
	}
1.4、上一首  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setplaystate",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"prev"
		}
	}
1.5、下一首  控制 （网关->平板）  反馈（平板->网关）

    {
		"cmd":"setplaystate",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"next"
		}
	}
2、播放模式

2.1、随机播放  控制 （网关->平板）  反馈（平板->网关）

    {
		"cmd":"setloopmode",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"mode":"random"
		}
	}
2.2、单曲循环  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setloopmode",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"mode":"single"
		}
	}
2.3、列表循环  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setloopmode",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"mode":"cycle"
		}
	}
3、音源切换

3.1、本地  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setsource",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"source":"local"
		}
	}
3.2、蓝牙  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setsource",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"source":"blueteeth"
		}
	}
3.3、外音  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setsource",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"source":"linein"
		}
	}
4、音效切换  控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"seteffect",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"effect":"original"
		}
	}
	古典:classic,现代:moden,摇滚:rockroll,流行:pop,舞曲:dance,原声:original，
5、音量设置 控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setvolume",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"volume":1  //0-15 或者 音量加 "inc"  ; 音量减 "dec"
		}
	}
反馈

	{
		"cmd":"setvolume",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"volume":1
		}
	}
场景模式
暂无实现

联动设置
暂无实现

播放列表

7.1、请求歌曲列表

	{
		"cmd":"getsonglist",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname”: "轻音乐",    	//为空时 主歌曲列表
			"pageindex":0,
			"pagesize":20				//pagesize == 0时  所有歌曲
		}
	}
设备反馈

	{
		"cmd":"getsonglist",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐",
			"pageindex":0,
			"pagesize":20,
			"total":45,		//总歌曲数
			"songlist":
			[
				{
					"id":0
					"title":"海阔天空",
					"artist":"beyond",
					"album":"乐与怒",
					"duration":"246"  		//歌曲长度，单位秒
				},
				{
					"id":1,
					"title":"和平与爱",
					"artist":"beyond",
					"album":"乐与怒",
					"duration":"258"  		//歌曲长度，单位秒
				}
			]
		}
	}
7.2、获取播放列表

	{
		"cmd":"getplaylist",
		"sequence":1001,
		"timestamp": "1441787638"
	}
反馈

	{
		"cmd":"getplaylist",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"playlist":["轻音乐","流行金曲","动感节拍"]
		}
	}
7.3、创建播放列表

	{
		"cmd":"mksonglist",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐"
		}
	}
设备反馈

	{
		"cmd":"mksonglist",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"result":"true"   		//false
		}
	}
7.4、删除歌曲列表

	{
		"cmd":"delsonglist",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐"
		}
	}
设备反馈

	{
		"cmd":"delsonglist",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"result":"true"   		//false
		}
	}
7.5、向歌曲列表中添加歌曲

	{
		"cmd":"addsongs",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐",
			"songs"：["0","1","2"]      // id集合
		}
	}
设备反馈

	{
		"cmd":"addsongs",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"result":"true"   		//false
		}
	}
7.6、歌曲列表中移除歌曲

	{
		"cmd":"removesongs",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐",
			"songs"：["0","1","2"]      // id集合
		}
	}
设备反馈

	{
		"cmd":" removesongs ",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"result":"true"   		//false
		}
	}
7.7 指定播放列表

	{
		"cmd":"selectlist",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐",
		}
	}
设备反馈

	{
		"cmd":"selectlist",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"listname":"轻音乐",
			"result":"true"   		//false
		}
	}
设备主动上报状态 （当设备状态发生变化时，主动上报）

	{
		"cmd":"inform",
		"deviceid":"",
		"sequence": sequence, 			//控制响应时有该字段，主动上送时没有该字段
		"timestamp": "1441787638",
		"params":{
			"playstate":"play",			//播放状态play, pause, stop
			"selsongid":"1",   			//当前选中的歌曲编号
			"volume": 10,     		//当前音量
			"mode": "random",		//循环模式random, single, cycle
			"source":"local",			//参数同音源控制
			"effect":"original"			//参数同音效控制
		}
	}
加入队列播放模式 2016.09.14新增

控制 （网关->平板）  反馈（平板->网关）

	{
		"cmd":"setqueueplaymode",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"mode":"random"  // random为随机播放，sequence为顺序播放
		}
	}
设置（同时对state、valume、songs、mode进行设置） 2016.09.20新增

控制 （网关->平板）

	{
		"cmd":"setbulter”,
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"play" //要设置的状态
			"volume":1 //需设置的音量
			"songs":["76","74","75","74"] //按该顺序进行播放，播放完毕即结束
			"mode":"random" //需设置的播放模式
		}
	}
反馈（平板->网关）
分别返回
命令1

	{
		"cmd":"setplaystate",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"state":"next"
		}
	}
命令2

	{
		"cmd":"setvolume",
		"deviceid":"",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"volume":1
		}
	}
命令3

	{
		"cmd":"setqueueplaymode",
		"sequence":1001,
		"timestamp": "1441787638",
		"params":
		{
			"mode":"random"  // random为随机播放，sequence为顺序播放
		}
	}

### 新风系统 Type--O1
新风系统，设备类型DeviceType=O1。

企业合作设备，永大环保。

1）返回数据协议

010Y：

020Y：

05YYYYYYY:

2）发送数据协议

1Y#:加热器开/关，Y为0关加热器，Y为1开加热器

2Y#:风机调速，Y：0-3

5#:查询风机工作状态

### 温控器 Type--O6
温控器，设备类型DeviceType=O6。

企业合作设备，宁波莱胜斯。

1）返回数据协议

AAaabbccddeeffggYYhhiijj:AA表示状态上报,aa表示开关状态，00关，01开；bb表示阀门状态，00关，01开；ccddee表示室内温度，如020502表示25.2摄氏度；ffgg表示设定温度，如0207表示设定27摄氏度；YY报警状态，01报警，00正常；hhiijj不解析

01aa:01表示开关状态上报，aa表示开关状态，00关，01开

02aabb:02表示设定温度上报，aabb表示设定温度，如0207表示设定27摄氏度

03aabbcc:03表示实时温度上报，aabbcc表示实时温度，如020502表示25.2摄氏度

04aabbccdd:04表示本地状态上报，aa表示开关状态，00关，01开；bb表示阀门状态，00关，01开；ccdd表示设定温度，如0207表示设定27摄氏度

05aa:05表示报警状态上报，aa表示报警状态，01报警，00正常

2）发送数据协议

1A#:查询状态

1X#:控制命令，控制开关状态，11-开，10-关

2XY#:控制命令，控制设定温度，如225#，表示设置25摄氏度

### 电机 Type--OK
电机，设备类型DeviceType=OK。

企业合作设备，智皇。

1）返回数据协议

AAXXYY:AA表示状态上报，XX表示是否反转，01正常，02反转；YY表示运行状态，01关，02开，03停

03XXYY:03表示控制状态上报，XX表示是否反转，01正常，

02反转；YY表示运行状态，01关，02开，03停

2）发送数据协议

1A#:查询状态

1X#:控制命令，控制窗帘运行，11#-关，12#-开，13#-停止

2X#:设置电机状态反转，21#-正常状态，22#-反转状态，此时发开命令电机实际是关上

### 内嵌式窗帘控制器 Type--Au

设备类型DeviceType=Au

1）返回数据协议

01:停,02:开,03:关


2）发送数据协议

1:停,

2:开,

3:关,

4:绑定/解绑命令

注意：进行绑定操作时，应该连续执行三次成功的绑定，分别绑定窗帘的"关""停""开"的功能；

### 晾霸—电动晾衣架 Type--OF

DeviceType=OF

1）返回数据协议

aabbccddeeffgghhxxyyzz：

aa表示电机控制：01开、02关、00停；

bb表示语音控制：01开、00关；

cc表示负离子控制：01开、00关；

dd表示照明控制：01开、00关；

ee表示衣杆位置：01上限、02下限、00其他

ff表示风干：01开、00关；

gg表示风干剩余时间：00-B4（单位分钟）

hh表示烘干：01开、00关；

xx表示烘干剩余时间：00-B4（单位分钟）

yy开始消毒：01开、00关；

zz表示消毒剩余时间：00-1E（单位分钟）

2）发送数据协议

1abcdeTTTfTTTgTT：

1为固定字节，表示控制；

a表示电机控制：1开、2关、0停；

b表示语音控制：1开、0关；

c表示负离子控制：1开、0关；

d表示照明控制：1开、0关；

e表示风干：1开、0关；

TTT表示时间参数：000-180（单位分钟）

f表示烘干：1开、0关；

TTT表示时间参数：000-180（单位分钟）

g开始消毒：1开、0关；

TT表示时间参数：00-30（单位分钟）

2:固定字节，表示查询设备状态；

### 华尔思—背景应用 Type--DE

DeviceType=DE

2.1 获取设备性能
网关->设备：
``` json
{
"cmd":"BSgetperformance"
}
```
设备->网关：
``` json
{
"cmd":"BSgetperformance",
"playeffect":["pop","original",..],//支持的音效
"playsource":["local","linein",..],//支持的音源
"playarea":[1,2..],//支持的分区
"playvolumemax":10//最大音量
}
```
2.2 获取歌曲列表
网关->设备：
``` json
{
"cmd":"BSgetsonglist",
"pagesize":20,//包大小
"pageindex":0//第几包，从0 开始
}
```
设备->网关：
``` json
{
"cmd":"BSgetsonglist",
"total":"",//共多少首歌
"pagesize":"",
"pageindex":"",
"songlist":[
{
"songid":"1",//歌曲ID
"songname":"旅行者",//歌曲名称
"signer":"汪峰",//歌手名
"duration":250//共多长时间，单位秒
},
{
"songid":"2",//歌曲ID
"songname":"因为爱情",//歌曲名称
"signer":"陈奕迅",//歌手名
"duration":217//共多长时间，单位秒
}
]
}
```
2.3 获取当前播放状态或设备主动上报（作为30 上报心跳）
网关->设备：
``` json
{
"cmd":"BSgetstatus",
}
```
设备->网关：
``` json
{
"cmd":"BSgetstatus",
"playstatus":"play",//当前播放状态
"playsongid":"1",//当前播放歌曲ID
"volume":[10,9,8],//当前各分区音量,根据分区顺序
"playmode":"random",//当前播放模式
"playeffect":"origion",//当前音效
"playprogress":180,//当前播放进度
"playsource":"local"//当前音源
}
```
2.4 设置播放状态(包括下一首上一首)
网关->设备：
``` json
{
"cmd":"BSsetplaystatus",
"status":"play",//播放状态
}
```
设备->网关：
``` json
{
"cmd":"BSsetplaystatus",
"status":"play"
}
```
2.5 设置播放歌曲
网关->设备：
``` json
{
"cmd":"BSsetplaysongid",
"songid":"12",//歌曲ID
"songprogress"：100,//歌曲进度,单位秒
}
```
设备->网关：
``` json
{
"cmd":"BSsetplaysongid",
"songid":"",
"songprogress",
}
```
2.6 设置播放音量
网关->设备：
``` json
{
"cmd":"BSsetvolume",
"area":1,//分区
"volume":10//音量
}
```
设备->网关：
``` json
{
"cmd":"BSsetvolume",
"area":1,
"volume":10
}
```
2.7 设置音量增减
网关->设备：
``` json
{
"cmd":"BSsetvolumeadd",
"area":1,//分区
"volume":"+"//音量加减“+”“-”
}
```
设备->网关：
``` json
{
"cmd":"BSsetvolume",
"area":1,
"volume":10
}
```
2.8 设置播放模式
网关->设备：
``` json
{
"cmd":"BSsetmode",
"mode":"order"//模式
}
```
设备->网关：
``` json
{
"cmd":"BSsetmode",
"mode":""
}
```
2.9 设置音效
网关->设备：
``` json
{
"cmd":"BSsetplayeffect",
"effect":"origion"//音效
}
```
设备->网关：
``` json
{
"cmd":"BSsetplayeffect",
"effect":""
}
```
2.10 设置播放音源
网关->设备：
``` json
{
"cmd":"BSsetplaysource",
"source":"local"//音源
}
```
设备->网关：
``` json
{
"cmd":"BSsetplaysource",
"source":""
}
```
2.11 管家命令
网关->设备：
``` json
{
"cmd":"BSsetward",
"setplayvolume":[15,"N",6,9],//各分区音量，保持原有音量：N
"setplaymode":"random",//播放模式
"setplaystatus":"paly",//播放状态
"playid":[1,2,3]//临时播放队列，歌曲ID
}
```
设备->网关：
``` json
{
"cmd":"BSsetward",
"setplayvolume":[], //保持原有音量：N
"setplaymode":"",
"setplaystatus":"",
"playid":[]
}
```

- 枚举值说明  
3.1 播放状态  

|状态  |  含义|
|----|----|
|play  |  播放|
|pause  |  暂停|
|next  |  下一首|
|prev  |  上一首|

3.2. 播放模式  

模式  |  含义
----  |  ----
random  |  随机
order  |  顺序
listloop  |  列表循环
singlecycle  |  单曲循环

3.3. 音效   

音效  |  含义
----  |  ----
original  |  原声
pop  |  流行
rockroll  |  摇滚
dance  |  舞曲
hiphop  |  嘻哈
classic  |  古典
bass  |  超重低音
voice  |  人声
panorama  |  全景环绕
livesound  |  现场
modern  |  现代

3.4. 音源  

音源  |  含义
----  |  ----
local  |  本机音源
linein  |  外部音源
bluetooth  |  蓝牙模式
