
## 环境监测类设备协议

>环境监测类设备，主、要包括温湿度检测器（温度、湿度） 、光强检测器、空气质量、粉尘检测器、车位检测器、人流量检测器、空气质量--WLZJ、噪音检测器（梦想之花虚拟设备） 、粉尘检测器（梦想之花虚拟设备） 、VOC检测器（梦想之花虚拟设备） 、PM2.5等。


### 温湿度检测器 （温度 湿度）  Type--17
温湿度检测器,设备类型DeviceType=17。

温度,设备类型DeviceType=1702。

湿度,设备类型DeviceType=1703。

1） 返回数据协议

温湿度:float,float（单位:℃,%RH）

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### CO2检测器 （停产） Type--18
CO2检测器,设备类型DeviceType=18。

1） 返回数据协议

CO2:int（单位:PPM）

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### 光强检测器 Type--19
光强检测器,设备类型DeviceType=19。

1） 返回数据协议

光感:int（单位:LUX）

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### VOC检测器 （停产） Type--20
VOC检测器,设备类型DeviceType=20。

1） 返回数据协议

VOC:int（单位:PPM）

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### 水流检测器 （停产） Type--41
空气质量,光强检测器,设备类型DeviceType=41。

1） 返回数据协议

水流:float（单位:M3）

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### 空气质量 Type--42
空气质量,光强检测器,设备类型DeviceType=42。

1） 返回数据协议

CO2:int（单位:PPM）

温湿度:float,float（单位:℃,%RH）

VOC:int（单位:PPM）

注:单次返回一条数据,分多次发送  现在只有返回CO2的值，其他值不会返回

2） 发送数据协议

无

3） 设置周期

'-1:查询单次数据

0:停止周期性返回数据

1～999:执行周期性返回数据（单位:秒）

### 烟雾感应器--SR Type--43
烟雾感应器--SR,设备类型DeviceType=43。

1） 返回数据协议

（十六进制,透传）

位1～2:报警类型（01:烟雾）

位3～4:报警状态（00:正常,01:报警）

2） 发送数据协议

（控制）10:消除报警

（设置）0:撤防,1:布防（撤防需要网关密码）

### 粉尘检测器 （透传） Type--44
粉尘检测器（透传）,设备类型DeviceType=44。

1） 返回数据协议

（十六进制）

位1～2:设备类型（01:状态）

位3～6:设备数据（检测值,ug/m3,ppm）

注:<100优,100-200良,200-300轻度污染,>300重度污染

2） 发送数据协议

1:获取设备当前数据

### 车位检测器 Type--46
车位检测器,设备类型DeviceType=46。

1） 返回数据协议

车位距离与状态:int,int（距离,状态）

距离:单位为MM;状态:0为无遮挡,1为有遮挡,2为异常

2） 发送数据协议

无

### 人流量检测器 （透传） Type--47
人流量检测器（透传）,设备类型DeviceType=47。

1） 返回数据协议

（十六进制）

位1～2:数据类型（01:默认）

位3～4:设备数据（01:进入,02:出去,03:拥堵）

位5～6:次数（新设备才有，老设备没有，5分钟或大于255时会发一次）

2） 发送数据协议

21：查询当前未上报的数据

### 空气质量--WLZJ （透传） Type--A0
空气质量--WLZJ（透传）,设备类型DeviceType=A0。

1） 返回数据协议

（十六进制）

MMA005050PZZZZ

MM表示数据长度,例如0CA005050P0010，0C表示“A005050P0010”的长度

A0表示设备类型

05表示参数设置功能码

05表示“本地报警使能”

0P表示“本地报警使能状态”，00表示取消，01表示使能

ZZZZ表示“取消使能的时间”，当0P=01时，时间不返回

0AA0040PQQQQMMA005050PZZZZ（此处有两组数据）

0A表示数据长度

A0表示设备类型

04表示“上报的数据”功能码

0P表示“上报的数据的类型”01表示整型

QQQQ表示CO2浓度 单位1PPM 最高10000PPM（阀值为1200PPM，超出该值客户端做报警提示）

MM表示数据长度

A0表示设备类型

05表示参数设置功能码

05表示“本地报警使能”

0P表示“本地报警使能状态”，00表示取消，01表示使能

ZZZZ表示“取消使能的时间”，当0P=01时，时间不返回

2） 发送数据协议

MMA055PZZZZ

MM表示数据长度,例如09A055P0010，09表示“A055P0010”的长度

A0表示设备类型

5表示参数设置功能码

5表示“本地报警使能”

P表示“本地报警使能设置”，0取消 1使能 2查询

ZZZZ表示取消的时长，单位分钟，0000表示永久取消（仅在取消时加上时间）

### 噪音检测器 （梦想之花虚拟设备）  Type--D4
噪音检测器（梦想之花虚拟设备） ,设备类型DeviceType=D4。

1） 返回数据协议

（十六进制）

0AD4040PQQQQ：

0A数据长度；

D4设备类型；

04功能码，表示传感器数据；

0P表示数据类型，基本为01，表示正整数；

QQQQ表示噪音值，十六进制，单位db

2） 发送数据协议

无

### 粉尘检测器 （梦想之花虚拟设备）  Type--D5
粉尘检测器,梦想之花虚拟设备,设备类型DeviceType=D5。

1） 返回数据协议

（十六进制）

0AD5040PQQQQ：

0A数据长度；

D5设备类型；

04功能码，表示传感器数据；

0P表示数据类型，基本为01，表示正整数；

QQQQ表示粉尘浓度，十六进制，单位ug/m3

2） 发送数据协议

无

### VOC检测器 （梦想之花虚拟设备）  Type--D6
VOC检测器（梦想之花虚拟设备） ,设备类型DeviceType=D6。

1） 返回数据协议

（十六进制）

0AD6040PQQQQ：

0A数据长度；D6设备类型；

04功能码，表示传感器数据；

0P表示数据类型，基本为01，表示正整数；

QQQQ表示VOC浓度值，十六进制，单位ppb

2） 发送数据协议

无

### PM2.5 Type--O0
PM2.5,设备类型DeviceType=O0。

企业合作设备，永大环保。

1） 返回数据协议

04YYYYYYY:

2） 发送数据协议

4#:查询PM2.5、温湿度
